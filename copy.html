<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        {
            // 浅拷贝
            function shallowCopy(obj) {
                let newObj = {};

                for (let i in obj) {
                    newObj[i] = obj[i];
                }

                return newObj;
            }

            console.log(shallowCopy({ a: 1, b: 'str' }));
        }
        {
            // 深拷贝
            function deepCopy(obj) {
                let newObj;
                if (typeof (obj) === 'object') {
                    newObj = Object.prototype.toString.call(obj) === '[object Array]' ? [] : {};

                    for (let i in obj) {
                        if (typeof (obj[i]) === 'object') {
                            newObj[i] = deepCopy(obj[i]);
                        } else {
                            newObj[i] = obj[i];
                        }
                    }
                } else {
                    newObj = obj;
                }

                return newObj;
            }
            console.log(deepCopy([1, '2', { a: 1, b: { b: 'str' } }]));
            console.log(deepCopy('str'));
        }
    </script>
</body>

</html>